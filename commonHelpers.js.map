{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst key = 'key=41516646-ec27055f09ddd37d9bfda39a5';\nconst image = 'image_type=photo';\nconst orientation = 'orientation=horizontal';\nconst safesearch = 'safesearch=true';\n\nconst containerDestroy = document.querySelectorAll('.gallery.gallery-item');\nfor (const destroy of containerDestroy) {\n    console.log(destroy);\n}\n\nconst from = document.querySelector('.form');\nconst listGallery = document.querySelector('.gallery');\nconst body = document.querySelector('body');\n\nfrom.addEventListener('submit', event => {\n    event.preventDefault();\n    handleClickDestroy();\n    body.insertAdjacentHTML('beforeend', '<span class=\"loader\"></span>');\n    const resultsSearch = event.target.elements.search.value;\n\n    fetch(\n        `${BASE_URL}?${key}&q=${resultsSearch}&${image}&${orientation}&${safesearch}`\n    )\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n\n        .then(result => {\n            const dataFormImage = result.hits;\n            if (!dataFormImage.length) {\n                iziToast.error({\n                    message: `❌ Sorry, there are no images matching your search query. Please, try again!`,\n                    icon: '',\n\n                    position: 'topRight',\n                });\n            }\n            const galleryMarkup = dataFormImage.reduce(\n                (\n                    html,\n                    {\n                        webformatURL,\n                        largeImageURL,\n                        tags,\n                        likes,\n                        views,\n                        comments,\n                        downloads,\n                    }\n                ) =>\n                    html +\n                    `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n            </a>\n            <ul class=\"characteristics-list\">\n            <li class=\"characteristics\"><span class=\"characteristics-titel\">Likes</span> <span>${likes}</span></li>\n            <li class=\"characteristics\"><span class=\"characteristics-titel\">Views</span> <span>${views}</span></li>\n            <li class=\"characteristics\"><span class=\"characteristics-titel\">Comments</span> <span>${comments}</span></li>\n            <li class=\"characteristics\"><span class=\"characteristics-titel\">Downloads</span> <span>${downloads}</span></li>\n        </ul>\n            \n        </li>`,\n                ''\n            );\n            listGallery.insertAdjacentHTML('beforeend', galleryMarkup);\n            let gallery = new SimpleLightbox('.gallery a', {\n                captionsData: 'alt',\n                captionDelay: 250,\n                captionPosition: 'bottom',\n            });\n\n            gallery.refresh();\n            const loaderDestroy = document.querySelector('.loader');\n            loaderDestroy.remove();\n        })\n        .catch(error => {\n            console.log(error.message);\n        });\n});\n\nfunction handleClickDestroy() {\n    const containerDestroy = document.querySelectorAll('.gallery-item');\n    for (const destroy of containerDestroy) {\n        destroy.remove();\n    }\n}\n"],"names":["BASE_URL","key","image","orientation","safesearch","containerDestroy","destroy","from","listGallery","body","event","handleClickDestroy","resultsSearch","response","result","dataFormImage","iziToast","galleryMarkup","html","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","error"],"mappings":"6vBAKA,MAAMA,EAAW,2BACXC,EAAM,yCACNC,EAAQ,mBACRC,EAAc,yBACdC,EAAa,kBAEbC,EAAmB,SAAS,iBAAiB,uBAAuB,EAC1E,UAAWC,KAAWD,EAClB,QAAQ,IAAIC,CAAO,EAGvB,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAO,SAAS,cAAc,MAAM,EAE1CF,EAAK,iBAAiB,SAAUG,GAAS,CACrCA,EAAM,eAAc,EACpBC,IACAF,EAAK,mBAAmB,YAAa,8BAA8B,EACnE,MAAMG,EAAgBF,EAAM,OAAO,SAAS,OAAO,MAEnD,MACI,GAAGV,KAAYC,OAASW,KAAiBV,KAASC,KAAeC,GACpE,EACI,KAAKS,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,EAEA,KAAKC,GAAU,CACZ,MAAMC,EAAgBD,EAAO,KACxBC,EAAc,QACfC,EAAS,MAAM,CACX,QAAS,8EACT,KAAM,GAEN,SAAU,UAC9B,CAAiB,EAEL,MAAMC,EAAgBF,EAAc,OAChC,CACIG,EACA,CACI,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACH,IAEDP,EACA;AAAA,4CACwBE;AAAA,kDACMD,WAAsBE;AAAA;AAAA;AAAA,iGAGyBC;AAAA,iGACAC;AAAA,oGACGC;AAAA,qGACCC;AAAA;AAAA;AAAA,eAIrF,EAChB,EACYjB,EAAY,mBAAmB,YAAaS,CAAa,EAC3C,IAAIS,EAAe,aAAc,CAC3C,aAAc,MACd,aAAc,IACd,gBAAiB,QACjC,CAAa,EAEO,QAAO,EACO,SAAS,cAAc,SAAS,EACxC,OAAM,CAChC,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,IAAIA,EAAM,OAAO,CACrC,CAAS,CACT,CAAC,EAED,SAAShB,GAAqB,CAC1B,MAAMN,EAAmB,SAAS,iBAAiB,eAAe,EAClE,UAAWC,KAAWD,EAClBC,EAAQ,OAAM,CAEtB"}