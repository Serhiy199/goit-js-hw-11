{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst BASE_URL = new URL('https://pixabay.com/api/?');\nconst KEY = '41516646-ec27055f09ddd37d9bfda39a5';\n\nconst formSearch = document.querySelector('.form');\nconst listGallery = document.querySelector('.gallery');\nconst body = document.querySelector('body');\n\nformSearch.addEventListener('submit', event => {\n    event.preventDefault();\n\n    body.insertAdjacentHTML('beforeend', '<span class=\"loader\"></span>');\n    const resultsSearch = event.target.elements.search.value;\n\n    const searchParams = new URLSearchParams({\n        key: KEY,\n        q: resultsSearch,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n    });\n    const url = `${BASE_URL}${searchParams}`;\n\n    fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n\n        .then(result => {\n            formMarkupCreating(result);\n        })\n        .catch(error => {\n            modalIziToast(error);\n        });\n});\n\nfunction formMarkupCreating(result) {\n    const dataFormImage = result.hits;\n    if (!dataFormImage.length) {\n        modalIziToast(error);\n    }\n    const galleryMarkup = dataFormImage.reduce(\n        (\n            html,\n            {\n                webformatURL,\n                largeImageURL,\n                tags,\n                likes,\n                views,\n                comments,\n                downloads,\n            }\n        ) =>\n            html +\n            `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n    </a>\n    <ul class=\"characteristics-list\">\n    <li class=\"characteristics\"><span class=\"characteristics-titel\">Likes</span> <span>${likes}</span></li>\n    <li class=\"characteristics\"><span class=\"characteristics-titel\">Views</span> <span>${views}</span></li>\n    <li class=\"characteristics\"><span class=\"characteristics-titel\">Comments</span> <span>${comments}</span></li>\n    <li class=\"characteristics\"><span class=\"characteristics-titel\">Downloads</span> <span>${downloads}</span></li>\n</ul>\n    \n</li>`,\n        ''\n    );\n\n    listGallery.innerHTML = galleryMarkup;\n\n    let gallery = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n        captionPosition: 'bottom',\n    });\n\n    gallery.refresh();\n    const loaderDestroy = document.querySelector('.loader');\n    loaderDestroy.remove();\n}\n\nfunction modalIziToast() {\n    iziToast.error({\n        message: `‚ùå Sorry, there are no images matching your search query. Please, try again!`,\n        icon: '',\n\n        position: 'topRight',\n    });\n}\n"],"names":["BASE_URL","KEY","formSearch","listGallery","body","event","resultsSearch","searchParams","url","response","result","formMarkupCreating","error","modalIziToast","dataFormImage","galleryMarkup","html","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","iziToast"],"mappings":"6vBAKA,MAAMA,EAAW,IAAI,IAAI,2BAA2B,EAC9CC,EAAM,qCAENC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAO,SAAS,cAAc,MAAM,EAE1CF,EAAW,iBAAiB,SAAUG,GAAS,CAC3CA,EAAM,eAAc,EAEpBD,EAAK,mBAAmB,YAAa,8BAA8B,EACnE,MAAME,EAAgBD,EAAM,OAAO,SAAS,OAAO,MAE7CE,EAAe,IAAI,gBAAgB,CACrC,IAAKN,EACL,EAAGK,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EACKE,EAAM,GAAGR,IAAWO,IAE1B,MAAMC,CAAG,EACJ,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,EAEA,KAAKC,GAAU,CACZC,EAAmBD,CAAM,CACrC,CAAS,EACA,MAAME,GAAS,CACZC,EAAmB,CAC/B,CAAS,CACT,CAAC,EAED,SAASF,EAAmBD,EAAQ,CAChC,MAAMI,EAAgBJ,EAAO,KACxBI,EAAc,QACfD,EAAc,KAAK,EAEvB,MAAME,EAAgBD,EAAc,OAChC,CACIE,EACA,CACI,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACH,IAEDP,EACA;AAAA,oCACwBE;AAAA,0CACMD,WAAsBE;AAAA;AAAA;AAAA,yFAGyBC;AAAA,yFACAC;AAAA,4FACGC;AAAA,6FACCC;AAAA;AAAA;AAAA,OAIrF,EACR,EAEIpB,EAAY,UAAYY,EAEV,IAAIS,EAAe,aAAc,CAC3C,aAAc,MACd,aAAc,IACd,gBAAiB,QACzB,CAAK,EAEO,QAAO,EACO,SAAS,cAAc,SAAS,EACxC,OAAM,CACxB,CAEA,SAASX,GAAgB,CACrBY,EAAS,MAAM,CACX,QAAS,8EACT,KAAM,GAEN,SAAU,UAClB,CAAK,CACL"}